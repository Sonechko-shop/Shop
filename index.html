<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–û–ù–ï–ß–ö–û ‚Äî –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary: #83b735; 
            --bg: #f8faf9; 
            --white: #ffffff; 
            --card-bg: #ffffff;
            --text: #333333;
            --nav-bg: rgba(255, 255, 255, 0.9);
        }
        
        body.dark-mode { 
            --bg: #121212; --white: #1e1e1e; --card-bg: #1e1e1e;
            --text: #e0e0e0; --nav-bg: rgba(30, 30, 30, 0.95);
        }
        
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: var(--text); transition: 0.3s; }

        /* MODAL SYSTEM */
        .modal-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
            backdrop-filter: blur(8px); display: none; align-items: center; 
            justify-content: center; z-index: 5000; padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        .modal-card { 
            background: var(--card-bg); color: var(--text); padding: 30px; 
            border-radius: 35px; width: 100%; max-width: 500px; 
            position: relative; max-height: 90vh; overflow-y: auto;
        }

        /* HEADER & HERO */
        .navbar { 
            background: var(--nav-bg); backdrop-filter: blur(15px);
            padding: 12px 5%; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 30px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; 
        }
        .logo { font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; text-decoration: none; cursor: pointer; }
        .logo .blue { color: #0057b7; } .logo .yellow { color: #ffd700; }

        .search-container { flex-grow: 1; max-width: 400px; display: flex; background: rgba(128,128,128,0.1); padding: 5px 20px; border-radius: 40px; margin: 0 15px; }
        .search-container input { width: 100%; border: none; background: transparent; padding: 10px; outline: none; color: var(--text); }

        .hero { width: 92%; margin: 20px auto; height: 250px; border-radius: 40px; background: url('https://images.unsplash.com/photo-1604719312566-8912e9227c6a?auto=format&fit=crop&w=1350&q=80') center/cover; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .glass-box { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(10px); padding: 25px; border-radius: 30px; text-align: center; color: white; border: 1px solid rgba(255,255,255,0.2); }

        /* GRID & CARDS */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; padding: 20px 5%; }
        .card { background: var(--card-bg); border-radius: 30px; padding: 20px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }
        .card img { width: 100%; height: 150px; object-fit: contain; margin-bottom: 15px; }

        .pill { background: var(--card-bg); border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; color: var(--text); font-weight: bold; margin: 5px; }
        .pill.active { background: var(--primary); color: white; }

        /* BUTTONS */
        .buy-btn { background: var(--primary); color: white; border: none; width: 100%; padding: 14px; border-radius: 15px; font-weight: 800; cursor: pointer; margin-top: 10px; }
        .close-x { position: absolute; top: 20px; right: 20px; font-size: 24px; cursor: pointer; border: none; background: none; color: var(--text); }

        /* CART PANEL */
        .cart-panel { position: fixed; right: -100%; top: 0; width: 350px; height: 100%; background: var(--card-bg); z-index: 4500; transition: 0.4s; padding: 25px; box-shadow: -10px 0 50px rgba(0,0,0,0.2); display: flex; flex-direction: column; }
        .cart-panel.active { right: 0; }

        .input-field { width: 100%; padding: 12px; margin: 8px 0; border-radius: 12px; border: 1px solid rgba(128,128,128,0.3); background: transparent; color: var(--text); box-sizing: border-box; }
    </style>
</head>
<body>

<nav class="navbar">
    <div class="logo"><span class="blue">–°–û–ù–ï</span><span class="yellow">–ß–ö–û</span></div>
    <div class="search-container"><input type="text" placeholder="–®—É–∫–∞—Ç–∏..." oninput="searchFunc()"></div>
    <div style="display: flex; gap: 10px;">
        <button class="pill" onclick="openModal('settingsModal')">‚öôÔ∏è</button>
        <button class="pill" onclick="toggleCart(true)">üõí <span id="cart-badge">0</span></button>
    </div>
</nav>

<div class="hero">
    <div class="glass-box">
        <h1>–°–û–ù–ï–ß–ö–û –î–ê–†–£–Ñ –¢–ï–ü–õ–û üëã</h1>
        <p>–ù–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏ –∑ –ª—é–±–æ–≤'—é</p>
    </div>
</div>

<div id="productGrid" class="grid"></div>

<div class="modal-overlay" id="productModal">
    <div class="modal-card">
        <button class="close-x" onclick="closeModal('productModal')">‚úï</button>
        <div id="productDetailContent"></div>
    </div>
</div>

<div class="modal-overlay" id="orderModal">
    <div class="modal-card">
        <button class="close-x" onclick="closeModal('orderModal')">‚úï</button>
        <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è üì¶</h2>
        <p>–í–≤–µ–¥—ñ—Ç—å –≤–∞—à—ñ –¥–∞–Ω—ñ, —â–æ–± –º–∏ –∑–≤'—è–∑–∞–ª–∏—Å—è –∑ –≤–∞–º–∏</p>
        <input type="text" class="input-field" placeholder="–í–∞—à–µ —ñ–º'—è">
        <input type="tel" class="input-field" placeholder="+380 ...">
        <input type="text" class="input-field" placeholder="–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏">
        <h3 id="orderTotalText">–î–æ —Å–ø–ª–∞—Ç–∏: 0 –≥—Ä–Ω</h3>
        <button class="buy-btn" onclick="confirmOrder()">–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</button>
    </div>
</div>

<div class="modal-overlay" id="settingsModal">
    <div class="modal-card">
        <button class="close-x" onclick="closeModal('settingsModal')">‚úï</button>
        <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚öôÔ∏è</h2>
        <button class="buy-btn" style="background:#444" onclick="document.body.classList.toggle('dark-mode')">–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É üåì</button>
    </div>
</div>

<div class="cart-panel" id="cartPanel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>–ö–æ—à–∏–∫</h2>
        <button onclick="toggleCart(false)" style="border:none; background:none; font-size:25px; cursor:pointer; color:var(--text)">‚úï</button>
    </div>
    <div id="cartItems" style="flex-grow:1; overflow-y:auto;"></div>
    <div style="border-top: 1px solid #ddd; padding-top:15px;">
        <h3>–†–∞–∑–æ–º: <span id="cartTotalSum">0</span> –≥—Ä–Ω</h3>
        <button class="buy-btn" onclick="openOrderModal()">–û–§–û–†–ú–ò–¢–ò –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</button>
    </div>
</div>

<script>
    const products = [
        { id: 1, name: "Dada Extra Soft 6", price: 250, img: "https://i.ibb.co/vyDyh7g/image.jpg", desc: "–ù–∞–π–∫—Ä–∞—â—ñ –ø—ñ–¥–≥—É–∑–∫–∏ –¥–ª—è –º–∞–ª—é–∫—ñ–≤." },
        { id: 2, name: "Ariel Pods 3in1", price: 320, img: "https://i.ibb.co/L64M6S9/ariel.jpg", desc: "–ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –ø—Ä–∞–Ω–Ω—è –∑ –ø–µ—Ä—à–æ–≥–æ —Ä–∞–∑—É." },
        { id: 3, name: "–ö–æ—Ä–º Felix", price: 15, img: "https://i.ibb.co/0Yf9mXm/felix.jpg", desc: "–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π –∫—ñ—Ç ‚Äî —Å–ø–æ–∫—ñ–π–Ω–∏–π –≤–ª–∞—Å–Ω–∏–∫." }
    ];

    let cart = {};

    function renderGrid() {
        document.getElementById('productGrid').innerHTML = products.map(p => `
            <div class="card" onclick="openProductDetail(${p.id})">
                <img src="${p.img}">
                <h3>${p.name}</h3>
                <p style="color:var(--primary); font-weight:bold;">${p.price} –≥—Ä–Ω</p>
                <button class="buy-btn" onclick="event.stopPropagation(); addToCart(${p.id})">–í –∫–æ—à–∏–∫</button>
            </div>
        `).join('');
    }

    function openProductDetail(id) {
        const p = products.find(x => x.id === id);
        document.getElementById('productDetailContent').innerHTML = `
            <img src="${p.img}" style="width:100%; border-radius:20px; background:white;">
            <h1>${p.name}</h1>
            <p>${p.desc}</p>
            <h2 style="color:var(--primary)">${p.price} –≥—Ä–Ω</h2>
            <button class="buy-btn" onclick="addToCart(${p.id}); closeModal('productModal')">–î–û–î–ê–¢–ò –í –ö–û–®–ò–ö</button>
        `;
        openModal('productModal');
    }

    function addToCart(id) {
        const p = products.find(x => x.id === id);
        if(cart[id]) cart[id].qty++; else cart[id] = {...p, qty: 1};
        updateCart();
    }

    function updateCart() {
        let total = 0, count = 0, html = "";
        for(let id in cart) {
            total += cart[id].price * cart[id].qty;
            count += cart[id].qty;
            html += `<div style="display:flex; gap:10px; margin-bottom:15px; align-items:center;">
                <img src="${cart[id].img}" style="width:50px; height:50px; background:white; border-radius:10px;">
                <div style="flex-grow:1;"><b>${cart[id].name}</b><br>${cart[id].price} –≥—Ä–Ω</div>
                <div>x${cart[id].qty}</div>
            </div>`;
        }
        document.getElementById('cartItems').innerHTML = html || "–ü–æ—Ä–æ–∂–Ω—å–æ...";
        document.getElementById('cartTotalSum').innerText = total;
        document.getElementById('cart-badge').innerText = count;
    }

    function openOrderModal() {
        const total = document.getElementById('cartTotalSum').innerText;
        if(total == "0") return alert("–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!");
        document.getElementById('orderTotalText').innerText = `–î–æ —Å–ø–ª–∞—Ç–∏: ${total} –≥—Ä–Ω`;
        openModal('orderModal');
    }

    function confirmOrder() {
        alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ! –ú–∏ –≤–∞–º –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É—î–º–æ.");
        cart = {};
        updateCart();
        closeModal('orderModal');
        toggleCart(false);
    }

    function openModal(id) { document.getElementById(id).classList.add('active'); }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }
    function toggleCart(s) { document.getElementById('cartPanel').classList.toggle('active', s); }

    renderGrid();
</script>
</body>
</html>
