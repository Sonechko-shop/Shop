<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–û–ù–ï–ß–ö–û ‚Äî –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary: #83b735; 
            --bg: #f8faf9; 
            --white: #ffffff; 
            --text: #333333;
            --card-bg: #ffffff;
        }
        
        body.dark-mode {
            --bg: #121212;
            --text: #e0e0e0;
            --card-bg: #1e1e1e;
            --white: #1e1e1e;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            margin: 0; 
            background: var(--bg); 
            color: var(--text); 
            transition: 0.3s;
        }

        /* HEADER */
        .navbar { 
            background: var(--white); 
            padding: 12px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
            box-shadow: 0 2px 15px rgba(0,0,0,0.05); 
        }
        .logo { font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; text-decoration: none; }
        .logo .blue { color: #0057b7; } .logo .yellow { color: #ffd700; }

        .search-container { flex-grow: 1; max-width: 450px; margin: 0 20px; position: relative; }
        .search-container input { 
            width: 100%; padding: 12px 20px; border-radius: 30px; 
            border: none; background: rgba(128,128,128,0.1); color: var(--text); outline: none;
        }

        .nav-icons { display: flex; gap: 10px; }
        .icon-btn { 
            background: rgba(128,128,128,0.1); border: none; width: 45px; height: 45px; 
            border-radius: 50%; cursor: pointer; font-size: 18px; color: var(--text); position: relative;
        }
        .badge { 
            position: absolute; top: -5px; right: -5px; background: var(--primary); 
            color: white; font-size: 11px; padding: 2px 6px; border-radius: 10px; 
        }

        /* HERO SECTION */
        .hero { padding: 40px 5%; }
        .hero h1 { font-family: 'Montserrat', sans-serif; font-size: 32px; margin: 0; }
        .hero p { opacity: 0.7; margin: 10px 0 0 0; }

        /* CATEGORIES */
        .categories { display: flex; justify-content: center; gap: 12px; padding: 20px 5%; flex-wrap: wrap; }
        .pill { 
            background: var(--white); border: none; padding: 10px 25px; 
            border-radius: 30px; cursor: pointer; font-weight: bold; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); color: var(--text); transition: 0.2s;
        }
        .pill.active { background: var(--primary); color: white; }

        /* GRID */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; padding: 20px 5%; }
        .card { 
            background: var(--card-bg); border-radius: 35px; padding: 25px; 
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
            transition: 0.3s; cursor: pointer; position: relative;
        }
        .card:hover { transform: translateY(-5px); }
        .card img { width: 100%; height: 180px; object-fit: contain; margin-bottom: 15px; }

        .stock-tag { 
            font-size: 12px; font-weight: 800; color: var(--primary); 
            background: rgba(131, 183, 53, 0.1); padding: 5px 12px; 
            border-radius: 15px; display: inline-block; margin-bottom: 10px;
        }

        .price { font-size: 26px; font-weight: 900; color: var(--primary); margin: 10px 0; }
        .buy-btn { 
            background: var(--primary); color: white; border: none; 
            width: 100%; padding: 15px; border-radius: 20px; 
            font-weight: 800; cursor: pointer; transition: 0.3s;
        }

        /* FLYING ANIMATION - 2 SECONDS */
        .flying-item {
            position: fixed; z-index: 9999; pointer-events: none;
            width: 60px; height: 60px; object-fit: contain;
            background: white; border-radius: 50%; border: 2px solid var(--primary);
            transition: all 2.0s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        /* MODALS */
        .modal-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
            backdrop-filter: blur(8px); display: none; align-items: center; 
            justify-content: center; z-index: 5000; padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        .modal-card { 
            background: var(--card-bg); padding: 35px; border-radius: 40px; 
            width: 100%; max-width: 450px; text-align: center; color: var(--text);
        }

        /* CART PANEL */
        .cart-panel { 
            position: fixed; right: -100%; top: 0; width: 380px; height: 100%; 
            background: var(--card-bg); z-index: 4000; transition: 0.5s; 
            padding: 30px; display: flex; flex-direction: column; box-shadow: -10px 0 50px rgba(0,0,0,0.2);
        }
        .cart-panel.active { right: 0; }

        /* FOOTER */
        .footer { background: var(--white); padding: 40px 5%; margin-top: 50px; text-align: left; }
        .footer h2 { font-size: 24px; margin-bottom: 15px; }
        .phone-num { font-size: 28px; font-weight: 900; margin-bottom: 25px; }
        .call-btn { 
            background: var(--primary); color: white; border: none; 
            width: 100%; padding: 18px; border-radius: 20px; 
            font-weight: 800; font-size: 18px; cursor: pointer;
        }
    </style>
</head>
<body>

<nav class="navbar">
    <a href="#" class="logo"><span class="blue">–°–û–ù–ï</span><span class="yellow">–ß–ö–û</span></a>
    <div class="search-container">
        <input type="text" placeholder="–®—É–∫–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏..." id="searchInput" oninput="search()">
    </div>
    <div class="nav-icons">
        <button class="icon-btn">üìû</button>
        <button class="icon-btn" onclick="openModal('settingsModal')">‚öôÔ∏è</button>
        <button class="icon-btn" id="cart-nav" onclick="toggleCart(true)">
            üõí <span class="badge" id="cart-badge">0</span>
        </button>
    </div>
</nav>

<div class="hero">
    <h1>–°–û–ù–ï–ß–ö–û –î–ê–†–£–Ñ –¢–ï–ü–õ–û üëã</h1>
    <p>–ù–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏ –¥–ª—è –≤–∞—à–æ—ó —Ä–æ–¥–∏–Ω–∏ –∑ –ª—é–±–æ–≤'—é</p>
</div>

<div class="categories">
    <button class="pill active" onclick="filter('all', this)">üåà –í—Å–µ</button>
    <button class="pill" onclick="filter('baby', this)">üë∂ –î–∏—Ç—è—á–µ</button>
    <button class="pill" onclick="filter('pets', this)">üêæ –¢–≤–∞—Ä–∏–Ω–∏</button>
    <button class="pill" onclick="filter('chem', this)">üßº –•—ñ–º—ñ—è</button>
</div>

<div class="grid" id="productGrid"></div>

<div class="footer">
    <h2>–ó–≤'—è–∑–æ–∫ üìû</h2>
    <div class="phone-num">+38 (068) 490 00 68</div>
    <button class="call-btn">–î–ó–í–Ü–ù–û–ö</button>
</div>

<div class="modal-overlay" id="productModal">
    <div class="modal-card">
        <img id="m-img" style="width:100%; height:200px; object-fit:contain; margin-bottom:20px;">
        <h2 id="m-name"></h2>
        <p id="m-desc" style="opacity:0.8; line-height:1.6;"></p>
        <div class="price" id="m-price"></div>
        <button class="buy-btn" id="m-buy-btn">–í –∫–æ—à–∏–∫</button>
        <p onclick="closeModal('productModal')" style="cursor:pointer; margin-top:20px; opacity:0.5;">–ó–∞–∫—Ä–∏—Ç–∏</p>
    </div>
</div>

<div class="modal-overlay" id="settingsModal">
    <div class="modal-card">
        <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
        <button class="buy-btn" style="background:#444; margin-bottom:15px;" onclick="document.body.classList.toggle('dark-mode')">–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É üåó</button>
        <select id="langSelect" style="width:100%; padding:12px; border-radius:12px; margin-bottom:20px;">
            <option value="ua">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
            <option value="en">üá∫üá∏ English</option>
            <option value="pl">üáµüá± Polski</option>
        </select>
        <button class="buy-btn" onclick="closeModal('settingsModal')">–ì–æ—Ç–æ–≤–æ</button>
    </div>
</div>

<div class="cart-panel" id="cartPanel">
    <h2>–ö–æ—à–∏–∫</h2>
    <div id="cartItems" style="flex-grow:1; overflow-y:auto;"></div>
    <div style="border-top:1px solid #ddd; padding-top:20px;">
        <h3>–†–∞–∑–æ–º: <span id="totalSum">0</span> –≥—Ä–Ω</h3>
        <button class="buy-btn" onclick="alert('–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ!')">–û–§–û–†–ú–ò–¢–ò</button>
        <button class="buy-btn" style="background:#888; margin-top:10px;" onclick="toggleCart(false)">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
</div>

<script>
    const products = [
        { id: 1, cat: 'baby', stock: 15, price: 250, img: "https://i.ibb.co/vyDyh7g/image.jpg", name: "Dada Extra Soft 6", desc: "–ü—ñ–¥–≥—É–∑–∫–∏ Dada Extra Soft –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –∑–∞—Ö–∏—Å—Ç —Ç–∞ –∫–æ–º—Ñ–æ—Ä—Ç –≤–∞—à–æ–≥–æ –º–∞–ª—é–∫–∞ –ø—Ä–æ—Ç—è–≥–æ–º –¥–Ω—è —ñ –Ω–æ—á—ñ." },
        { id: 2, cat: 'chem', stock: 7, price: 320, img: "https://i.ibb.co/L64M6S9/ariel.jpg", name: "Ariel Pods 3in1", desc: "–ö–∞–ø—Å—É–ª–∏ Ariel Pods –º–∞—é—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –±–∞–≥–∞—Ç–æ—Å–µ–∫—Ü—ñ–π–Ω–∏–π –¥–∏–∑–∞–π–Ω, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∑–∞–ª–∏—à–∞—Ç–∏—Å—è —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º–∏." },
        { id: 3, cat: 'pets', stock: 120, price: 15, img: "https://i.ibb.co/0Yf9mXm/felix.jpg", name: "–ö–æ—Ä–º Felix", desc: "Felix ‚Äî —Ü–µ —Å–º–∞—á–Ω–∏–π –≤–æ–ª–æ–≥–∏–π –∫–æ—Ä–º, —è–∫–∏–π –≤–∏–≥–ª—è–¥–∞—î —Ç–∞ –ø–∞—Ö–Ω–µ —Ç–∞–∫, –Ω—ñ–±–∏ –≤–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–ª–∏ –π–æ–≥–æ —Å–∞–º—ñ." }
    ];

    let cart = {};
    let currentFilter = 'all';

    function render() {
        const grid = document.getElementById('productGrid');
        const query = document.getElementById('searchInput').value.toLowerCase();
        
        grid.innerHTML = products
            .filter(p => (currentFilter === 'all' || p.cat === currentFilter) && p.name.toLowerCase().includes(query))
            .map(p => `
                <div class="card" onclick="openProduct(${p.id})">
                    <span class="stock-tag">–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ: ${p.stock} —à—Ç</span>
                    <img src="${p.img}" id="prod-img-${p.id}">
                    <h3>${p.name}</h3>
                    <div class="price">${p.price} –≥—Ä–Ω</div>
                    <button class="buy-btn" onclick="event.stopPropagation(); addToCart(${p.id})">–í –∫–æ—à–∏–∫</button>
                </div>
            `).join('');
    }

    function openProduct(id) {
        const p = products.find(x => x.id === id);
        document.getElementById('m-img').src = p.img;
        document.getElementById('m-name').innerText = p.name;
        document.getElementById('m-desc').innerText = p.desc;
        document.getElementById('m-price').innerText = p.price + " –≥—Ä–Ω";
        document.getElementById('m-buy-btn').onclick = () => { addToCart(id); closeModal('productModal'); };
        openModal('productModal');
    }

    function addToCart(id) {
        const p = products.find(x => x.id === id);
        if (p.stock <= 0) return;

        // –ê–ù–Ü–ú–ê–¶–Ü–Ø –ü–û–õ–¨–û–¢–£ 2 –°–ï–ö–£–ù–î–ò
        const img = document.getElementById(`prod-img-${id}`);
        const cartNav = document.getElementById('cart-nav');
        const rect = img.getBoundingClientRect();
        const cartRect = cartNav.getBoundingClientRect();

        const flyer = img.cloneNode();
        flyer.className = 'flying-item';
        flyer.style.left = rect.left + 'px';
        flyer.style.top = rect.top + 'px';
        document.body.appendChild(flyer);

        setTimeout(() => {
            flyer.style.left = cartRect.left + 'px';
            flyer.style.top = cartRect.top + 'px';
            flyer.style.transform = 'scale(0.1)';
            flyer.style.opacity = '0';
        }, 50);
        setTimeout(() => flyer.remove(), 2000);

        p.stock--;
        if (cart[id]) cart[id].qty++; else cart[id] = { ...p, qty: 1 };
        updateUI();
        render();
    }

    function updateUI() {
        let total = 0, count = 0, html = "";
        for (let id in cart) {
            total += cart[id].price * cart[id].qty;
            count += cart[id].qty;
            html += `<div style="display:flex; justify-content:space-between; margin-bottom:15px; background:rgba(128,128,128,0.05); padding:10px; border-radius:15px;">
                <span>${cart[id].name} (x${cart[id].qty})</span>
                <b>${cart[id].price * cart[id].qty} –≥—Ä–Ω</b>
            </div>`;
        }
        document.getElementById('cartItems').innerHTML = html || "<p style='text-align:center; opacity:0.5;'>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>";
        document.getElementById('totalSum').innerText = total;
        document.getElementById('cart-badge').innerText = count;
    }

    function filter(cat, btn) {
        document.querySelectorAll('.pill').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentFilter = cat;
        render();
    }

    function search() { render(); }
    function openModal(id) { document.getElementById(id).classList.add('active'); }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }
    function toggleCart(s) { document.getElementById('cartPanel').classList.toggle('active', s); }

    render();
</script>
</body>
</html>
