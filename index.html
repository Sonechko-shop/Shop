<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–û–ù–ï–ß–ö–û ‚Äî New Generation Shop + –Ü–≥—Ä–∏!</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* –ë—Ä–µ–Ω–¥–æ–≤—ñ –∫–æ–ª—å–æ—Ä–∏ */
            --brand-green: #83b735;
            --brand-blue: #0057b7;
            --brand-yellow: #ffd700;
            
            /* UI –∫–æ–ª—å–æ—Ä–∏ */
            --bg-body: #f4f7f6;
            --white: #ffffff;
            --text-main: #1d1d1f;
            --text-muted: #86868b;
            
            /* –ï—Ñ–µ–∫—Ç–∏ */
            --shadow-soft: 0 8px 30px rgba(0,0,0,0.04);
            --shadow-hover: 0 15px 45px rgba(0,0,0,0.1);
            --radius-lg: 32px;
            --radius-md: 18px;
            --transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* --- HEADER (Modern Minimalist) --- */
        header {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 12px 6%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 26px;
            font-weight: 900;
            text-decoration: none;
            letter-spacing: -1px;
        }
        .logo .blue { color: var(--brand-blue); }
        .logo .yellow { color: var(--brand-yellow); }

        .search-bar {
            flex-grow: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border-radius: var(--radius-md);
            border: 1px solid transparent;
            background: rgba(0,0,0,0.04);
            outline: none;
            transition: var(--transition);
        }

        .search-bar input:focus {
            background: var(--white);
            border-color: var(--brand-green);
            box-shadow: 0 0 0 4px rgba(131, 183, 53, 0.1);
        }

        .nav-actions { display: flex; gap: 12px; }

        .icon-btn {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            border: none;
            background: transparent;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .icon-btn:hover { background: rgba(0,0,0,0.05); transform: translateY(-2px); }

        .badge {
            position: absolute;
            top: 6px;
            right: 6px;
            background: var(--brand-green);
            color: white;
            font-size: 10px;
            font-weight: 800;
            min-width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--white);
        }

        /* --- PRODUCT GRID --- */
        .container {
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 4%;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 24px;
            transition: var(--transition);
            position: relative;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0,0,0,0.02);
            will-change: transform;
        }

        .card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .stock-tag {
            position: absolute;
            top: 24px;
            left: 24px;
            padding: 6px 14px;
            background: rgba(131, 183, 53, 0.1);
            color: var(--brand-green);
            font-size: 12px;
            font-weight: 700;
            border-radius: 12px;
            z-index: 10;
        }

        .img-container {
            width: 100%;
            height: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            border-radius: var(--radius-md);
            background: #fafafa;
            overflow: hidden;
        }

        .img-container img {
            max-width: 85%;
            max-height: 85%;
            object-fit: contain;
            transition: var(--transition);
        }

        .card:hover .img-container img { transform: scale(1.1); }

        .product-info h3 {
            font-size: 18px;
            font-weight: 700;
            margin: 0 0 8px 0;
            color: var(--text-main);
        }

        .price-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 20px;
        }

        .price {
            font-size: 26px;
            font-weight: 900;
            color: var(--brand-green);
        }

        .buy-btn {
            background: var(--brand-green);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 18px;
            font-weight: 800;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 20px rgba(131, 183, 53, 0.2);
        }

        .buy-btn:hover {
            background: #72a12d;
            box-shadow: 0 15px 30px rgba(131, 183, 53, 0.3);
            transform: translateY(-2px);
        }

        .buy-btn:active { transform: scale(0.95); }

        /* --- FLYING ANIMATION (Optimized) --- */
        .flyer {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 50%;
            background: var(--white);
            box-shadow: var(--shadow-hover);
            transition: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
        }

        /* --- GAME ZONE STYLES --- */
        .game-zone {
            background: linear-gradient(135deg, var(--brand-blue), var(--brand-green));
            padding: 60px 4%;
            margin-top: 60px;
            color: white;
            text-align: center;
            border-radius: var(--radius-lg);
            max-width: 1400px;
            margin: 60px auto;
            box-shadow: var(--shadow-hover);
        }
        .game-zone h2 {
            font-size: 38px;
            font-weight: 900;
            margin-bottom: 40px;
            text-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        .game-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: var(--shadow-soft);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }
        .game-card h3 { font-size: 24px; margin-top: 0; }
        .game-card p { opacity: 0.8; font-size: 15px; line-height: 1.6; }
        .game-card button {
            background: var(--brand-green);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--radius-md);
            font-weight: 800;
            cursor: pointer;
            margin-top: 20px;
            transition: var(--transition);
        }
        .game-card button:hover { background: var(--brand-blue); transform: scale(1.05); }

        /* Game 1: Clicker */
        #fruit-spawn-area {
            width: 100%; height: 200px; border: 1px dashed rgba(255,255,255,0.5);
            border-radius: var(--radius-md); position: relative; overflow: hidden;
            margin-bottom: 20px; cursor: crosshair;
        }
        .fruit {
            position: absolute; font-size: 40px; cursor: pointer;
            animation: fadeInOut 2s forwards; opacity: 0;
            transform: scale(0);
        }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: scale(0); }
            20% { opacity: 1; transform: scale(1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }

        /* Game 3: Maze Button */
        #maze-button {
            position: relative; width: 150px; height: 50px; background: var(--accent-orange);
            color: white; font-weight: 800; border: none; border-radius: 10px; cursor: pointer;
            transition: all 0.2s linear; margin-top: 20px;
        }

    </style>
</head>
<body>

<header>
    <a href="#" class="logo">
        <span class="blue">–°–û–ù–ï</span><span class="yellow">–ß–ö–û</span>
    </a>

    <div class="search-bar">
        <input type="text" placeholder="–®—É–∫–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ..." id="searchInput">
    </div>

    <div class="nav-actions">
        <button class="icon-btn">‚öôÔ∏è</button>
        <button class="icon-btn" id="cart-nav">
            üõí <span class="badge" id="cart-count">0</span>
        </button>
    </div>
</header>

<div class="container">
    <div class="grid" id="productGrid">
        </div>
</div>

<section class="game-zone">
    <h2>üöÄ –ó–æ–Ω–∞ –†–æ–∑–≤–∞–≥ –≤—ñ–¥ –°–û–ù–ï–ß–ö–û! üöÄ</h2>
    <div class="game-grid">
        <div class="game-card">
            <h3>–ó–±–µ—Ä–∏ –≤—Ä–æ–∂–∞–π üçé</h3>
            <p>–®–≤–∏–¥–∫–æ –∫–ª—ñ–∫–∞–π –Ω–∞ —Ñ—Ä—É–∫—Ç–∏, —â–æ –∑'—è–≤–ª—è—é—Ç—å—Å—è, —ñ –∑–±–∏—Ä–∞–π –±–∞–ª–∏!</p>
            <div id="fruit-spawn-area"></div>
            <p>–û—á–∫–∏: <span id="clicker-score">0</span></p>
            <button onclick="startGame1()">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
        </div>

        <div class="game-card">
            <h3>–í—ñ–¥–≥–∞–¥–∞–π —Ü—ñ–Ω—É ü§î</h3>
            <p>–°–ø—Ä–æ–±—É–π –≤–≥–∞–¥–∞—Ç–∏ —Ü—ñ–Ω—É —Ç–æ–≤–∞—Ä—É –∑ –Ω–∞—à–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω—É —ñ –æ—Ç—Ä–∏–º–∞–π –±–æ–Ω—É—Å!</p>
            <p id="guess-product-name"></p>
            <input type="number" id="guess-input" placeholder="–í–∞—à–∞ —Ü—ñ–Ω–∞" style="padding: 10px; border-radius: 8px; border: none; margin: 15px 0;">
            <p id="guess-feedback"></p>
            <button onclick="startGame2()">–ù–æ–≤–∞ –≥—Ä–∞</button>
            <button onclick="checkGuess()" style="background: var(--accent-orange); margin-left: 10px;">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
        </div>

        <div class="game-card">
            <h3>–õ–∞–±—ñ—Ä–∏–Ω—Ç –∑–Ω–∏–∂–æ–∫ üèÉ</h3>
            <p>–°–ø—Ä–æ–±—É–π –≤–ø—ñ–π–º–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –∑–Ω–∏–∂–∫–∏, —è–∫–∞ —Ç—ñ–∫–∞—î –≤—ñ–¥ —Ç–µ–±–µ!</p>
            <div style="width: 100%; height: 150px; border: 1px dashed rgba(255,255,255,0.5); border-radius: var(--radius-md); position: relative; overflow: hidden; margin-bottom: 20px;">
                <button id="maze-button" style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);">–ó–Ω–∏–∂–∫–∞!</button>
            </div>
            <button onclick="startGame3()">–ü–æ—á–∞—Ç–∏ –ª–∞–±—ñ—Ä–∏–Ω—Ç</button>
        </div>
    </div>
</section>

<script>
    // –ú–∞—Å–∏–≤ –¥–∞–Ω–∏—Ö (–ú–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑ API)
    const products = [
        { id: 1, name: "Dada Premium Care 6", price: 250, stock: 12, img: "https://i.ibb.co/vyDyh7g/image.jpg" },
        { id: 2, name: "Ariel Pods Pro Clean", price: 320, stock: 7, img: "https://i.ibb.co/L64M6S9/ariel.jpg" },
        { id: 3, name: "Felix Crunchy Treats", price: 15, stock: 35, img: "https://i.ibb.co/0Yf9mXm/felix.jpg" },
        { id: 4, name: "Pampers Active Baby", price: 410, stock: 20, img: "https://i.ibb.co/vyDyh7g/image.jpg" }
    ];

    let cart = 0;

    // –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ–∫ (–ß–∏—Å—Ç–∏–π —Ç–∞ —à–≤–∏–¥–∫–∏–π)
    function initApp() {
        const grid = document.getElementById('productGrid');
        grid.innerHTML = products.map(p => `
            <article class="card">
                <div class="stock-tag">–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ: ${p.stock} —à—Ç</div>
                <div class="img-container">
                    <img src="${p.img}" alt="${p.name}" id="img-${p.id}" loading="lazy">
                </div>
                <div class="product-info">
                    <h3>${p.name}</h3>
                    <div class="price-row">
                        <div class="price">${p.price} –≥—Ä–Ω</div>
                        <button class="buy-btn" onclick="addToCart(${p.id}, event)">–ö—É–ø–∏—Ç–∏</button>
                    </div>
                </div>
            </article>
        `).join('');
    }

    // –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è –ø–æ–ª—å–æ—Ç—É
    function addToCart(id, event) {
        const btn = event.currentTarget;
        const img = document.getElementById(`img-${id}`);
        const cartIcon = document.getElementById('cart-nav');
        
        const flyer = img.cloneNode();
        const rect = img.getBoundingClientRect();
        const cartRect = cartIcon.getBoundingClientRect();

        Object.assign(flyer.style, {
            position: 'fixed',
            left: rect.left + 'px',
            top: rect.top + 'px',
            width: rect.width + 'px',
            height: rect.height + 'px',
            zIndex: '10000',
            transition: 'all 1s cubic-bezier(0.42, 0, 0.58, 1)',
            pointerEvents: 'none'
        });

        document.body.appendChild(flyer);

        requestAnimationFrame(() => {
            Object.assign(flyer.style, {
                left: (cartRect.left + 10) + 'px',
                top: (cartRect.top + 10) + 'px',
                width: '20px',
                height: '20px',
                opacity: '0.4',
                transform: 'rotate(360deg)'
            });
        });

        setTimeout(() => {
            flyer.remove();
            cart++;
            document.getElementById('cart-count').innerText = cart;
            
            cartIcon.style.transform = 'scale(1.3)';
            setTimeout(() => cartIcon.style.transform = 'scale(1)', 200);
        }, 1000);
    }

    initApp();


    // --- GAME 1: CLICKER GAME ---
    let clickerScore = 0;
    let game1Interval;
    const fruits = ['üçé', 'üçå', 'üçì', 'üçá', 'üçâ'];

    function startGame1() {
        clickerScore = 0;
        document.getElementById('clicker-score').innerText = clickerScore;
        const spawnArea = document.getElementById('fruit-spawn-area');
        spawnArea.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ñ—Ä—É–∫—Ç–∏

        if (game1Interval) clearInterval(game1Interval);
        
        game1Interval = setInterval(() => {
            const fruit = document.createElement('span');
            fruit.className = 'fruit';
            fruit.innerText = fruits[Math.floor(Math.random() * fruits.length)];
            
            const areaRect = spawnArea.getBoundingClientRect();
            fruit.style.left = Math.random() * (areaRect.width - 40) + 'px';
            fruit.style.top = Math.random() * (areaRect.height - 40) + 'px';
            
            fruit.onclick = () => {
                clickerScore++;
                document.getElementById('clicker-score').innerText = clickerScore;
                fruit.remove();
            };
            
            spawnArea.appendChild(fruit);
            setTimeout(() => fruit.remove(), 1900); // Fruit disappears after animation
        }, 700); // New fruit every 0.7 seconds

        // Stop game after 15 seconds
        setTimeout(() => {
            clearInterval(game1Interval);
            alert(`–ß–∞—Å –≤–∏–π—à–æ–≤! –í–∏ –Ω–∞–±—Ä–∞–ª–∏ ${clickerScore} –æ—á–æ–∫.`);
        }, 15000);
    }

    // --- GAME 2: GUESS THE PRICE ---
    let currentGuessProduct;
    let currentGuessPrice;

    function startGame2() {
        const randomProduct = products[Math.floor(Math.random() * products.length)];
        currentGuessProduct = randomProduct.name;
        currentGuessPrice = randomProduct.price;
        
        document.getElementById('guess-product-name').innerText = `–¶—ñ–Ω–∞ –Ω–∞ "${currentGuessProduct}"?`;
        document.getElementById('guess-input').value = '';
        document.getElementById('guess-feedback').innerText = '';
    }

    function checkGuess() {
        const userGuess = parseInt(document.getElementById('guess-input').value);
        const feedback = document.getElementById('guess-feedback');

        if (isNaN(userGuess)) {
            feedback.innerText = '–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ!';
            feedback.style.color = 'red';
            return;
        }

        if (userGuess === currentGuessPrice) {
            feedback.innerText = `–í—ñ—Ä–Ω–æ! –¶—ñ–Ω–∞ –Ω–∞ ${currentGuessProduct} - ${currentGuessPrice} –≥—Ä–Ω. –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –±–æ–Ω—É—Å!`;
            feedback.style.color = 'lightgreen';
            // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –±–æ–Ω—É—Å—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, cart++
        } else if (userGuess < currentGuessPrice) {
            feedback.innerText = '–ó–∞–º–∞–ª–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –±—ñ–ª—å—à–µ!';
            feedback.style.color = 'orange';
        } else {
            feedback.innerText = '–ó–∞–±–∞–≥–∞—Ç–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –º–µ–Ω—à–µ!';
            feedback.style.color = 'orange';
        }
    }

    // Initialize the first product for the game
    startGame2();


    // --- GAME 3: MAZE BUTTON ---
    const mazeButton = document.getElementById('maze-button');
    let game3Interval;

    function startGame3() {
        if (game3Interval) clearInterval(game3Interval);
        mazeButton.style.left = '50%';
        mazeButton.style.top = '50%';
        mazeButton.style.transform = 'translate(-50%, -50%)';
        mazeButton.style.opacity = '1';
        mazeButton.style.pointerEvents = 'auto';

        game3Interval = setInterval(() => {
            const parentRect = mazeButton.parentElement.getBoundingClientRect();
            const btnRect = mazeButton.getBoundingClientRect();

            const newX = Math.random() * (parentRect.width - btnRect.width);
            const newY = Math.random() * (parentRect.height - btnRect.height);

            mazeButton.style.left = newX + 'px';
            mazeButton.style.top = newY + 'px';
        }, 800); // Button moves every 0.8 seconds

        mazeButton.onclick = () => {
            clearInterval(game3Interval);
            alert('–í–∏ –≤–ø—ñ–π–º–∞–ª–∏ –∑–Ω–∏–∂–∫—É! –í—ñ—Ç–∞—î–º–æ!');
            mazeButton.style.opacity = '0';
            mazeButton.style.pointerEvents = 'none';
        };
    }

</script>

</body>
</html>
